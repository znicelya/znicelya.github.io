{"title":"Zookeeper客户端使用","uid":"0bdaded0df01ce59e401a378d6fd90c0","slug":"zookeeper/Zookeeper客户端使用","date":"2022-02-16T14:09:21.000Z","updated":"2022-02-16T14:56:50.006Z","comments":true,"path":"api/articles/zookeeper/Zookeeper客户端使用.json","keywords":null,"cover":null,"content":"<h3 id=\"Zookeeper客户端使用\"><a href=\"#Zookeeper客户端使用\" class=\"headerlink\" title=\"Zookeeper客户端使用\"></a>Zookeeper客户端使用</h3><h4 id=\"1-多节点类型创建\"><a href=\"#1-多节点类型创建\" class=\"headerlink\" title=\"1.多节点类型创建\"></a>1.多节点类型创建</h4><ul>\n<li><p>创建持久节点</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">create [node]</code></pre></li>\n<li><p>创建持久序号节点</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">create -s [node]</code></pre></li>\n<li><p>创建临时节点</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">create -e [node]</code></pre></li>\n<li><p>创建临时序号节点</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">create -e -s [node]</code></pre></li>\n<li><p>创建容器节点</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">create -c [node]</code></pre></li>\n</ul>\n<h4 id=\"2-查询节点\"><a href=\"#2-查询节点\" class=\"headerlink\" title=\"2.查询节点\"></a>2.查询节点</h4><ul>\n<li><p>普通查询</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">ls &#x2F;</code></pre></li>\n<li><p>递归查询</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">ls -R &#x2F;</code></pre></li>\n<li><p>查询节点相关信息</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">get -s &#x2F;test</code></pre>\n\n<ul>\n<li>cZxid: 创建节点的事务ID</li>\n<li>mZxid: 修改节点的事务ID</li>\n<li>pZxid: 查询和删除的事务ID</li>\n<li>ctime: 节点创建的时间</li>\n<li>mtime: 节点修改的时间</li>\n<li>dataVersion: 节点内数据的版本，每更新一次数据，版本会+1</li>\n<li>aclVersion: 此节点的权限版本</li>\n<li>ephemeralOwner: 如果此节点是临时节点，该值是当前节点拥有者的session-id，如果节点不是临时节点，该值是0</li>\n<li>dataLength：节点内数据的长度</li>\n<li>numChildren: 该节点的子节点的个数</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"3-删除节点\"><a href=\"#3-删除节点\" class=\"headerlink\" title=\"3.删除节点\"></a>3.删除节点</h4><ul>\n<li><p>普通删除</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">delete [node]</code></pre></li>\n<li><p>乐观锁删除</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">delete -v [version] [node]</code></pre>\n\n<p>如果版本号不对则删除失败</p>\n</li>\n</ul>\n<h4 id=\"4-权限设置\"><a href=\"#4-权限设置\" class=\"headerlink\" title=\"4.权限设置\"></a>4.权限设置</h4><ul>\n<li><p>注册当前会话的账号和密码</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">auth digest xiaoming:123456</code></pre></li>\n<li><p>创建节点并设置权限</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">create [node] [data] auth:user:password:cdwra</code></pre>\n\n<ul>\n<li>node : 节点</li>\n<li>data : 数据</li>\n<li>user：账号</li>\n<li>password：密码</li>\n<li>cdwra<ul>\n<li>c: 创建权限</li>\n<li>d: 删除权限</li>\n<li>w: 更新权限</li>\n<li>r: 读取权限</li>\n<li>a: 管理员权限</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n","text":"Zookeeper客户端使用1.多节点类型创建 创建持久节点 create [node] 创建持久序号节点 create -s [node] 创建临时节点 create -e [node] 创建临时序号节点 create -e -s [node] 创建容器节点 create -c...","link":"","photos":[],"count_time":{"symbolsCount":742,"symbolsTime":"1 mins."},"categories":[{"name":"zookeeper","slug":"zookeeper","count":4,"path":"api/categories/zookeeper.json"}],"tags":[{"name":"zookeeper","slug":"zookeeper","count":4,"path":"api/tags/zookeeper.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Zookeeper%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%BD%BF%E7%94%A8\"><span class=\"toc-text\">Zookeeper客户端使用</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#1-%E5%A4%9A%E8%8A%82%E7%82%B9%E7%B1%BB%E5%9E%8B%E5%88%9B%E5%BB%BA\"><span class=\"toc-text\">1.多节点类型创建</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#2-%E6%9F%A5%E8%AF%A2%E8%8A%82%E7%82%B9\"><span class=\"toc-text\">2.查询节点</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#3-%E5%88%A0%E9%99%A4%E8%8A%82%E7%82%B9\"><span class=\"toc-text\">3.删除节点</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#4-%E6%9D%83%E9%99%90%E8%AE%BE%E7%BD%AE\"><span class=\"toc-text\">4.权限设置</span></a></li></ol></li></ol>","author":{"name":"znicelya","slug":"znicelya","avatar":"https://gitee.com/zniceya/picgo/raw/master/image/20220211200943.jpeg","link":"/","description":"hexo,nicely,blog,aurora","socials":{"github":"https://github.com/znicelya","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"https://gitee.com/zniceya/picgo/raw/master/image/u=839977396,1548112407&fm=253&fmt=auto&app=138&f=JPEG","link":"https://space.bilibili.com/177279267"}}}},"mapped":true,"prev_post":{"title":"Hexo+Aurora+COS+CDN","uid":"50d103871956e893966b30af3d9ba8af","slug":"Hexo-Aurora-Cos-CDN","date":"9999-12-31T15:59:59.000Z","updated":"2022-02-14T09:26:52.776Z","comments":true,"path":"api/articles/Hexo-Aurora-Cos-CDN.json","keywords":null,"cover":[],"text":"Hexo+Aurora+COS+CDNGit安装 Windows 访问官网 https:&#x2F;&#x2F;git-scm.com&#x2F; 直接安装即可 若速度太慢可访问国内淘宝镜像 https:&#x2F;&#x2F;registry.npmmirror.com&#x2...","link":"","photos":[],"count_time":{"symbolsCount":"3k","symbolsTime":"3 mins."},"categories":[{"name":"Hexo","slug":"Hexo","count":1,"path":"api/categories/Hexo.json"},{"name":"Aurora","slug":"Hexo/Aurora","count":1,"path":"api/categories/Hexo/Aurora.json"},{"name":"Cos","slug":"Hexo/Aurora/Cos","count":1,"path":"api/categories/Hexo/Aurora/Cos.json"},{"name":"CDN","slug":"Hexo/Aurora/Cos/CDN","count":1,"path":"api/categories/Hexo/Aurora/Cos/CDN.json"}],"tags":[{"name":"hexo","slug":"hexo","count":1,"path":"api/tags/hexo.json"},{"name":"aurora","slug":"aurora","count":1,"path":"api/tags/aurora.json"},{"name":"cos","slug":"cos","count":1,"path":"api/tags/cos.json"},{"name":"cdn","slug":"cdn","count":1,"path":"api/tags/cdn.json"}],"author":{"name":"znicelya","slug":"znicelya","avatar":"https://gitee.com/zniceya/picgo/raw/master/image/20220211200943.jpeg","link":"/","description":"hexo,nicely,blog,aurora","socials":{"github":"https://github.com/znicelya","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"https://gitee.com/zniceya/picgo/raw/master/image/u=839977396,1548112407&fm=253&fmt=auto&app=138&f=JPEG","link":"https://space.bilibili.com/177279267"}}}}},"next_post":{"title":"IDEA报错\\UFEFF","uid":"17b79d7c2d3e679698db70e34f757a30","slug":"IDEA报错ufeff","date":"2022-02-16T10:15:23.000Z","updated":"2022-02-16T10:29:27.258Z","comments":true,"path":"api/articles/IDEA报错ufeff.json","keywords":null,"cover":"https://gitee.com/zniceya/picgo/raw/master/image/20220216181648.png","text":" IDEA编译报错\\ufeff 解决方法 点击右下角编码改为GBK,点击Convert 再把编码改回UTF-8，点击Convert 如果新建文件之后还是出现这种情况请使用以下解决方法 左上角点击 File-&gt;Settings-&gt;Editor-&gt;File Enco...","link":"","photos":[],"count_time":{"symbolsCount":195,"symbolsTime":"1 mins."},"categories":[{"name":"error","slug":"error","count":1,"path":"api/categories/error.json"}],"tags":[{"name":"idea","slug":"idea","count":1,"path":"api/tags/idea.json"},{"name":"error","slug":"error","count":1,"path":"api/tags/error.json"}],"author":{"name":"znicelya","slug":"znicelya","avatar":"https://gitee.com/zniceya/picgo/raw/master/image/20220211200943.jpeg","link":"/","description":"hexo,nicely,blog,aurora","socials":{"github":"https://github.com/znicelya","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"https://gitee.com/zniceya/picgo/raw/master/image/u=839977396,1548112407&fm=253&fmt=auto&app=138&f=JPEG","link":"https://space.bilibili.com/177279267"}}}}}}