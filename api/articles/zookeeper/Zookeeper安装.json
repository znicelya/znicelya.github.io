{"title":"Zookeeper安装","uid":"7466612641d081c2147b711ae5edcb46","slug":"zookeeper/Zookeeper安装","date":"2022-02-14T04:20:21.000Z","updated":"2022-02-16T07:50:35.557Z","comments":true,"path":"api/articles/zookeeper/Zookeeper安装.json","keywords":null,"cover":"https://gitee.com/zniceya/picgo/raw/master/image/20220215180858.png","content":"<h3 id=\"Zookeeper安装\"><a href=\"#Zookeeper安装\" class=\"headerlink\" title=\"Zookeeper安装\"></a>Zookeeper安装</h3><h4 id=\"1-单机安装\"><a href=\"#1-单机安装\" class=\"headerlink\" title=\"1. 单机安装\"></a>1. 单机安装</h4><h5 id=\"1-1官网\"><a href=\"#1-1官网\" class=\"headerlink\" title=\"1.1官网\"></a>1.1官网</h5><p>zookeeper 下载地址为: <a href=\"https://zookeeper.apache.org/releases.html\">https://zookeeper.apache.org/releases.html</a></p>\n<p><img src=\"https://gitee.com/zniceya/picgo/raw/master/image/20220215180858.png\" alt=\"image-20220215180857984\"></p>\n<p>选择一个稳定版本 我这里选择的是3.7.0</p>\n<p><img src=\"https://gitee.com/zniceya/picgo/raw/master/image/20220215181027.png\" alt=\"image-20220215181027609\"></p>\n<h5 id=\"1-2点击下载\"><a href=\"#1-2点击下载\" class=\"headerlink\" title=\"1.2点击下载\"></a>1.2点击下载</h5><p><img src=\"https://gitee.com/zniceya/picgo/raw/master/image/20220215181125.png\" alt=\"image-20220215181125734\"></p>\n<h5 id=\"1-3解压\"><a href=\"#1-3解压\" class=\"headerlink\" title=\"1.3解压\"></a>1.3解压</h5><p><img src=\"https://gitee.com/zniceya/picgo/raw/master/image/20220215181158.png\" alt=\"image-20220215181158633\"></p>\n<p>建立数据存放目录 <code>data</code> 和日志存放目录 <code>log</code></p>\n<h5 id=\"1-4配置\"><a href=\"#1-4配置\" class=\"headerlink\" title=\"1.4配置\"></a>1.4配置</h5><p>进入conf目录</p>\n<p>复制 <code>zoo_sample.cfg</code> 改名为 <code>zoo.cfg</code></p>\n<p>编辑zoo.cfg</p>\n<p><img src=\"https://gitee.com/zniceya/picgo/raw/master/image/20220215181513.png\" alt=\"image-20220215181513491\"></p>\n<h5 id=\"1-5运行\"><a href=\"#1-5运行\" class=\"headerlink\" title=\"1.5运行\"></a>1.5运行</h5><p>进入bin目录</p>\n<p>windows系统下直接双击zkServer.cmd即可</p>\n<p>linux系统下执行 ./zkServer.sh start</p>\n<p><img src=\"https://gitee.com/zniceya/picgo/raw/master/image/20220215181707.png\" alt=\"image-20220215181707039\"></p>\n<p>至此单机版安装完成！</p>\n<h4 id=\"2-集群搭建\"><a href=\"#2-集群搭建\" class=\"headerlink\" title=\"2.集群搭建\"></a>2.集群搭建</h4><p>由于我这里只有一台机器只能搭建一个伪集群</p>\n<h5 id=\"1-安装\"><a href=\"#1-安装\" class=\"headerlink\" title=\"1.安装\"></a>1.安装</h5><p>将刚才解压的zookeeper文件 复制两份</p>\n<p><img src=\"https://gitee.com/zniceya/picgo/raw/master/image/20220215182131.png\" alt=\"image-20220215182131284\"></p>\n<p>分别修改其配置（同上） </p>\n<p><strong>注意：端口不要重复</strong></p>\n<h5 id=\"2-配置\"><a href=\"#2-配置\" class=\"headerlink\" title=\"2.配置\"></a>2.配置</h5><ul>\n<li><p>端口配置</p>\n<ul>\n<li><p>zk1</p>\n<p><img src=\"https://gitee.com/zniceya/picgo/raw/master/image/20220216154900.png\" alt=\"image-20220216145325330\"></p>\n</li>\n</ul>\n<ul>\n<li><p>zk2</p>\n<p><img src=\"https://gitee.com/zniceya/picgo/raw/master/image/20220216154915.png\" alt=\"image-20220216145412586\"></p>\n</li>\n<li><p>zk3</p>\n<p><img src=\"https://gitee.com/zniceya/picgo/raw/master/image/20220216154929.png\" alt=\"image-20220216145448578\"></p>\n</li>\n</ul>\n<p>现在三个zk的端口分别是 2181、2182、2183</p>\n<p><strong>注意</strong>： 此端口为客户端连接端口</p>\n</li>\n<li><p>myid配置</p>\n<p>三个zk需要各自的编号</p>\n<p>我们在上面指定的dataDir下创建myid文件                                            </p>\n<p><img src=\"https://gitee.com/zniceya/picgo/raw/master/image/20220216145742.png\"></p>\n<p>编辑每个myid文件</p>\n<p>在zk1的myid文件里面写入1</p>\n<p>在zk2的myid文件中写入2</p>\n<p>在zk3的myid文件中写入3</p>\n</li>\n<li><p>配置集群连接</p>\n<p>查看宿主机ip<br></p>\n<p><img src=\"https://gitee.com/zniceya/picgo/raw/master/image/20220216145933.png\" alt=\"image-20220216145933001\"><br></p>\n<p>编辑三个zoo.cfg文件</p>\n<p>在最后加入</p>\n<p><img src=\"https://gitee.com/zniceya/picgo/raw/master/image/20220216150057.png\" alt=\"image-20220216150057879\"></p>\n<pre class=\"line-numbers language-sh\" data-language=\"sh\"><code class=\"language-sh\">server.1&#x3D;192.168.2.79:2881:3881\nserver.2&#x3D;192.168.2.79:2882:3882\nserver.3&#x3D;192.168.2.79:2883:3883</code></pre>\n\n<p><strong>PS</strong></p>\n<p>server.[myid]=[ip]:[集群数据同步端口]:[leader选举端口]</p>\n</li>\n</ul>\n<p>伪集群搭建完毕！</p>\n","text":"Zookeeper安装1. 单机安装1.1官网zookeeper 下载地址为: https://zookeeper.apache.org/releases.html 选择一个稳定版本 我这里选择的是3.7.0 1.2点击下载 1.3解压 建立数据存放目录 data 和日志存放目录...","link":"","photos":[],"count_time":{"symbolsCount":798,"symbolsTime":"1 mins."},"categories":[{"name":"zookeeper","slug":"zookeeper","count":5,"path":"api/categories/zookeeper.json"}],"tags":[{"name":"zookeeper","slug":"zookeeper","count":5,"path":"api/tags/zookeeper.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Zookeeper%E5%AE%89%E8%A3%85\"><span class=\"toc-text\">Zookeeper安装</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#1-%E5%8D%95%E6%9C%BA%E5%AE%89%E8%A3%85\"><span class=\"toc-text\">1. 单机安装</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#1-1%E5%AE%98%E7%BD%91\"><span class=\"toc-text\">1.1官网</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#1-2%E7%82%B9%E5%87%BB%E4%B8%8B%E8%BD%BD\"><span class=\"toc-text\">1.2点击下载</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#1-3%E8%A7%A3%E5%8E%8B\"><span class=\"toc-text\">1.3解压</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#1-4%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">1.4配置</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#1-5%E8%BF%90%E8%A1%8C\"><span class=\"toc-text\">1.5运行</span></a></li></ol></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#2-%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA\"><span class=\"toc-text\">2.集群搭建</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#1-%E5%AE%89%E8%A3%85\"><span class=\"toc-text\">1.安装</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#2-%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">2.配置</span></a></li></ol></li></ol></li></ol>","author":{"name":"zniceya","slug":"zniceya","avatar":"https://gitee.com/zniceya/picgo/raw/master/image/20220211200943.jpeg","link":"/","description":"hexo,nicely,blog,aurora","socials":{"github":"https://github.com/znicelya","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"https://gitee.com/zniceya/picgo/raw/master/image/u=839977396,1548112407&fm=253&fmt=auto&app=138&f=JPEG","link":"https://space.bilibili.com/177279267"}}}},"mapped":true,"prev_post":{"title":"Zookeeper概述","uid":"07093428334d4e05f766e4aacfd1b9ce","slug":"zookeeper/Zookeeper概述","date":"2022-02-14T04:40:21.000Z","updated":"2022-02-16T07:20:32.592Z","comments":true,"path":"api/articles/zookeeper/Zookeeper概述.json","keywords":null,"cover":"https://gitee.com/zniceya/picgo/raw/master/image/20220209131628.png","text":"1. Zookeeper概述1.1 Zookeeper背景 随着互联网技术的发展，企业对计算机系统的计算，存储能力要求越来越高，各大IT企业都在追求高并发，海量存储的极致，在这样的背景下，单纯依靠少量高性能单机来完成计算机，云计算的任务已经无法满足需求，企业的IT架构逐渐由集中式...","link":"","photos":[],"count_time":{"symbolsCount":"1.6k","symbolsTime":"1 mins."},"categories":[{"name":"zookeeper","slug":"zookeeper","count":5,"path":"api/categories/zookeeper.json"}],"tags":[{"name":"zookeeper","slug":"zookeeper","count":5,"path":"api/tags/zookeeper.json"}],"author":{"name":"zniceya","slug":"zniceya","avatar":"https://gitee.com/zniceya/picgo/raw/master/image/20220211200943.jpeg","link":"/","description":"hexo,nicely,blog,aurora","socials":{"github":"https://github.com/znicelya","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"https://gitee.com/zniceya/picgo/raw/master/image/u=839977396,1548112407&fm=253&fmt=auto&app=138&f=JPEG","link":"https://space.bilibili.com/177279267"}}}}},"next_post":{"title":"Bing-Dwen-Dwen","uid":"4b6f4220aabf9bab7576762495891640","slug":"Bing-Dwen-Dwen","date":"2022-02-12T06:27:46.000Z","updated":"2022-02-12T08:16:23.254Z","comments":true,"path":"api/articles/Bing-Dwen-Dwen.json","keywords":null,"cover":"https://gitee.com/zniceya/picgo/raw/master/image/20220212150339.png","text":" ","link":"","photos":[],"count_time":{"symbolsCount":1,"symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"冰墩墩","slug":"冰墩墩","count":1,"path":"api/tags/冰墩墩.json"}],"author":{"name":"zniceya","slug":"zniceya","avatar":"https://gitee.com/zniceya/picgo/raw/master/image/20220211200943.jpeg","link":"/","description":"hexo,nicely,blog,aurora","socials":{"github":"https://github.com/znicelya","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"https://gitee.com/zniceya/picgo/raw/master/image/u=839977396,1548112407&fm=253&fmt=auto&app=138&f=JPEG","link":"https://space.bilibili.com/177279267"}}}}}}